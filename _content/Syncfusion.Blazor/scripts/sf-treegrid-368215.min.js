(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{"./bundles/sf-treegrid.js":function(e,t,o){"use strict";o.r(t);o("./modules/sf-treegrid.js")},"./modules/sf-treegrid.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.TreeGrid=function(){"use strict";var e=function(){function e(e){this.treeCopyContent="",this.copiedUniqueIdCollection=[],this.parent=e,this.gridClipboard=this.parent.grid.clipboardModule}return e.prototype.copy=function(e){document.queryCommandSupported("copy")&&(this.setCopyData(e),document.execCommand("copy"),this.gridClipboard.clipBoardTextArea.blur()),this.gridClipboard.isSelect&&(window.getSelection().removeAllRanges(),this.gridClipboard.isSelect=!1)},e.prototype.setCopyData=function(e){var t=this.parent.options.currentViewData;if(""===window.getSelection().toString()){this.gridClipboard.clipBoardTextArea.value=this.gridClipboard.copyContent="";var o=this.parent.grid.getRows();if("Cell"!==this.parent.grid.selectionMode){for(var i=this.parent.grid.getSelectedRowIndexes().sort((function(e,t){return e-t})),n=0;n<i.length;n++)if(n>0&&(this.treeCopyContent+="\n"),!o[i[n]].classList.contains("e-summaryrow")){var r=[].slice.call(o[i[n]].querySelectorAll(".e-rowcell")),s=this.parent.options.currentViewData[i[n]].uniqueID;-1===this.copiedUniqueIdCollection.indexOf(s)&&("Parent"!==this.parent.options.copyHierarchyMode&&"Both"!==this.parent.options.copyHierarchyMode||this.parentContentData(t,i[n],o,e,n),this.gridClipboard.getCopyData(r,!1,"\t",e),this.treeCopyContent+=this.gridClipboard.copyContent,this.copiedUniqueIdCollection.push(s),this.gridClipboard.copyContent="","Child"!==this.parent.options.copyHierarchyMode&&"Both"!==this.parent.options.copyHierarchyMode||this.childContentData(t,i[n],o,e))}if(e){var a=[];for(n=0;n<this.parent.grid.getVisibleColumns().length;n++)a[n]=this.parent.grid.getVisibleColumns()[n].headerText;this.gridClipboard.getCopyData(a,!1,"\t",e),this.treeCopyContent=this.gridClipboard.copyContent+"\n"+this.treeCopyContent}this.gridClipboard.clipBoardTextArea.value=this.gridClipboard.copyContent=this.treeCopyContent,sf.base.Browser.userAgent.match(/ipad|ipod|iphone/i)?this.gridClipboard.clipBoardTextArea.setSelectionRange(0,this.gridClipboard.clipBoardTextArea.value.length):(window.getSelection().removeAllRanges(),this.gridClipboard.clipBoardTextArea.select()),this.gridClipboard.isSelect=!0,this.copiedUniqueIdCollection=[],this.treeCopyContent=""}}},e.prototype.parentContentData=function(e,t,o,i,n){var r=e.filter((function(o){return o.uniqueID===e[t].parentUniqueID}))[0];if(!sf.base.isNullOrUndefined(r))for(var s=r.level,a=0;a<s+1;a++)for(var l=0;l<e.length;l++)if(e[l].uniqueID===r.uniqueID){t=l;var c=[].slice.call(o[t].querySelectorAll(".e-rowcell")),d=e[l].uniqueID;if(-1===this.copiedUniqueIdCollection.indexOf(d)){this.gridClipboard.getCopyData(c,!1,"\t",i),this.treeCopyContent=n>0?this.treeCopyContent+this.gridClipboard.copyContent+"\n":this.gridClipboard.copyContent+"\n"+this.treeCopyContent,this.copiedUniqueIdCollection.push(d),this.gridClipboard.copyContent="";break}}},e.prototype.childContentData=function(e,t,o,i){if(e[t].hasChildRecords)for(var n=e[t].uniqueID,r=e.filter((function(e){return e.parentUniqueID===n})),s=0;s<r.length;s++)for(var a=0;a<e.length;a++)if(!sf.base.isNullOrUndefined(r[s].uniqueID)&&e[a].uniqueID===r[s].uniqueID){if(!sf.base.isNullOrUndefined(o[a])&&!o[a].classList.contains("e-summaryrow")){var l=[].slice.call(o[a].querySelectorAll(".e-rowcell")),c=e[a].uniqueID;-1===this.copiedUniqueIdCollection.indexOf(c)&&(this.gridClipboard.getCopyData(l,!1,"\t",i),this.treeCopyContent+="\n"+this.gridClipboard.copyContent,this.gridClipboard.copyContent="",this.copiedUniqueIdCollection.push(c),this.childContentData(e,a,o,i))}break}},e}(),t=function(){function e(e,t){this.parent=t,this.dotNetRef=e}return e.prototype.renderHeaderCheckbox=function(e,t){var o=sf.base.createElement("div",{className:"e-checkbox-wrapper e-css e-hierarchycheckbox"}),i=sf.base.createElement("input",{className:"e-treeselectall",attrs:{type:"checkbox"}});o.appendChild(i);var n=sf.base.createElement("span",{className:"e-frame e-icons",styles:"width: 18px;"});o.appendChild(n),n.addEventListener("click",this.headerSelect.bind(this));var r=sf.base.createElement("span",{className:"e-lable"});o.appendChild(r);var s=e.querySelectorAll(".e-headercontent th")[t];if(sf.base.isNullOrUndefined(s.querySelector(".e-checkbox-wrapper"))){var a=s.querySelector(".e-headercelldiv");a.insertBefore(o,a)}},e.prototype.updateHeaderCheckbox=function(e,t){"intermediate"===t?(e.classList.add("e-stop"),e.classList.remove("e-check")):"check"===t?(e.classList.add("e-check"),e.classList.remove("e-stop")):(e.classList.remove("e-stop"),e.classList.remove("e-check"))},e.prototype.headerSelect=function(e){var t=e.currentTarget,o="uncheck";t.classList.contains("e-check")?t.classList.remove("e-check"):t.classList.contains("e-stop")?t.classList.remove("e-stop"):(t.classList.add("e-check"),o="check"),this.dotNetRef.invokeMethodAsync("SelectAllCheckbox",o)},e}(),o=function(){function o(o,i,n){this.columnModel=[],this.element=o,this.element.blazor_instance=this,this.grid=o.querySelector("#"+o.id+"_gridcontrol").blazor__instance,this.dotNetRef=n,this.options=i,this.header=this.element.querySelector(".e-headercontent"),this.content=this.element.querySelector(".e-content"),this.footer=this.element.querySelector(".e-summarycontent"),this.clipboardModule=new e(this),this.checkboxcolumnModule=new t(n,this),this.wireEvents()}return o.prototype.wireEvents=function(){sf.base.EventHandler.add(this.element,"keydown",this.KeyDownHandler,this)},o.prototype.getContent=function(){return this.content},o.prototype.getContentTable=function(){return this.content.querySelector(".e-table")},o.prototype.getHeaderContent=function(){return this.header},o.prototype.getHeaderTable=function(){return this.header.querySelector(".e-table")},o.prototype.getRows=function(){return[].slice.call(this.getContent().querySelectorAll(".e-row"))},o.prototype.KeyDownHandler=function(e){67===e.keyCode&&e.ctrlKey?this.clipboardModule.copy():72===e.keyCode&&e.ctrlKey&&e.shiftKey&&this.clipboardModule.copy(!0)},o.prototype.unWireEvents=function(){sf.base.EventHandler.remove(this.element,"keydown",this.KeyDownHandler)},o.prototype.destroy=function(){this.unWireEvents()},o}();return{initialize:function(e,t,i){sf.base.enableBlazorMode(),new o(e,t,i)},modelChanged:function(e,t,o){e.blazor_instance.options=t;JSON.parse(o)},headerCheckbox:function(e,t,o,i){sf.base.isNullOrUndefined(e)||e.blazor_instance.checkboxcolumnModule.renderHeaderCheckbox(e,t)},updateCheckbox:function(e,t,o){var i=e.querySelectorAll(".e-gridheader th")[t].querySelector("span.e-frame");e.blazor_instance.checkboxcolumnModule.updateHeaderCheckbox(i,o)},copyToClipBoard:function(e,t){"Cell"===e.blazor_instance.grid.options.selectionMode?e.blazor_instance.grid.clipboardModule.copy(t):e.blazor_instance.clipboardModule.copy(t)},destroy:function(e){e.blazor_instance.destroy()}}}()}}]);